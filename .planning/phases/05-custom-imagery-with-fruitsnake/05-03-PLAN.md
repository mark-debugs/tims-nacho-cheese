---
phase: 05-custom-imagery-with-fruitsnake
plan: 03
type: execute
wave: 2
depends_on: ["05-01", "05-02"]
files_modified:
  - src/routes/+page.svelte
autonomous: false

must_haves:
  truths:
    - "Homepage hero and featured flavor section use custom imagery instead of emojis"
    - "Site builds successfully with all images optimized"
    - "Site maintains Lighthouse 90+ performance score after image additions"
  artifacts:
    - path: "src/routes/+page.svelte"
      provides: "Homepage with custom imagery in hero and featured sections"
      contains: "enhanced:img"
  key_links:
    - from: "src/routes/+page.svelte"
      to: "src/lib/assets/images/flavors/mega-spice.png"
      via: "static import for featured flavor"
      pattern: "import.*mega.*spice.*from.*images"
---

<objective>
Update the homepage hero and featured flavor sections to use custom imagery, then verify overall site performance with all images integrated.

Purpose: Complete the visual upgrade across the entire site and ensure image additions haven't degraded performance below the Lighthouse 90+ threshold.
Output: Updated homepage with custom imagery, verified production build, confirmed performance.
</objective>

<execution_context>
@C:\Users\Mark\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Mark\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-custom-imagery-with-fruitsnake/05-01-SUMMARY.md
@.planning/phases/05-custom-imagery-with-fruitsnake/05-02-SUMMARY.md
@src/routes/+page.svelte
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add custom imagery to homepage hero and featured flavor sections</name>
  <files>src/routes/+page.svelte</files>
  <action>
    Update the homepage to replace emoji placeholders with custom imagery in two sections:

    **1. Hero Section** (the large gradient banner at the top):
    - Import the MEGA SPICE image (the star/featured product): `import megaSpiceHero from '$lib/assets/images/flavors/mega-spice.png';`
    - Replace the bouncing cheese emoji `<div class="text-8xl mb-6" style="transform: ...">` with an enhanced:img of the featured product, keeping the same spring animation on the container:
      ```svelte
      <div class="mb-6 inline-block" style="transform: scale({$heroScale}) rotate({$heroRotation}deg);">
        <enhanced:img
          src={megaSpiceHero}
          alt="Tim's Nacho Cheese featured product"
          class="w-32 h-32 md:w-40 md:h-40 object-contain rounded-2xl drop-shadow-2xl"
        />
      </div>
      ```
    - Remove the two decorative bouncing cheese emojis at the bottom of the hero (the `absolute` positioned ones with `animate-bounce`). They're placeholders that won't be needed with a real product image.

    **2. Featured Flavor Section** (the MEGA SPICE spotlight):
    - Replace the `<div class="text-9xl">` emoji with an enhanced:img:
      ```svelte
      <div class="w-32 h-32 md:w-40 md:h-40 flex-shrink-0">
        <enhanced:img
          src={megaSpiceHero}
          alt="MEGA SPICE Face Melter nacho cheese sauce"
          class="w-full h-full object-contain drop-shadow-lg"
        />
      </div>
      ```
    - Keep the flex layout structure (the image and text side by side on desktop, stacked on mobile)

    **Do NOT change:**
    - Spring animation parameters (heroScale, heroRotation, etc.)
    - Feature cards section (those use emojis for concepts, not products)
    - Social proof stats section
    - CTA section
    - Any inview or animation logic

    The feature cards (West Coast Vibes, Bold Flavors, Skater Approved) use conceptual emojis (wave, fire, skateboard) that represent ideas, not products. Leave those as-is.
  </action>
  <verify>Run `bun run build` to verify build succeeds. Run dev server and check homepage loads with product image in hero and featured sections.</verify>
  <done>Homepage hero shows product image with spring animation, featured flavor section shows MEGA SPICE product image, build succeeds</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual and performance verification</name>
  <what-built>
    Complete site visual upgrade with custom imagery across all pages:
    - 5 cheese flavor cards with product images (products page)
    - 8 merch product cards with product images (merch page)
    - Homepage hero with featured product image
    - Homepage featured flavor section with product image
    All images processed through @sveltejs/enhanced-img for WebP/AVIF optimization.
  </what-built>
  <how-to-verify>
    1. Start dev server: `bun run dev`
    2. Visit homepage (http://localhost:5173):
       - Hero should show product image with bounce-in animation (not cheese emoji)
       - Featured MEGA SPICE section should show product image (not emoji)
       - Feature cards section should still have concept emojis (wave, fire, skateboard) - these are intentional
    3. Visit Products page (http://localhost:5173/products):
       - All 5 flavor cards should show product images above card text
       - Images should have consistent style (same lighting, composition, background)
       - MEGA SPICE card should still show flame effects on hover
       - Scroll animations should still work
    4. Visit Merch page (http://localhost:5173/merch):
       - All 8 merch products should show product images on gradient backgrounds
       - Product images should fit within gradient areas without cropping
       - Hover effects (scale, translate) should still work
    5. Performance check:
       - Run `bun run build` and check output size
       - Open Chrome DevTools > Lighthouse > Performance audit
       - Score should be 90+ (images are optimized by enhanced:img)
    6. Responsive check:
       - Resize browser to mobile width (~375px)
       - All images should scale properly
       - No horizontal overflow or layout breaks
  </how-to-verify>
  <resume-signal>Type "approved" if all images look good and performance is maintained, or describe any issues with specific images or pages</resume-signal>
</task>

</tasks>

<verification>
- Homepage hero displays product image with spring animation
- Homepage featured section displays MEGA SPICE product image
- Products page shows 5 flavor images consistently
- Merch page shows 8 product images on gradient backgrounds
- `bun run build` succeeds without errors
- All animations and hover effects preserved
- Lighthouse performance 90+
</verification>

<success_criteria>
- All emoji placeholders replaced with custom product images across the site
- Images are visually consistent within their category (flavors match, merch matches)
- All existing animations, transitions, and hover effects work correctly with images
- Build succeeds with image optimization
- Lighthouse performance remains 90+
- Responsive layout works on mobile with images
</success_criteria>

<output>
After completion, create `.planning/phases/05-custom-imagery-with-fruitsnake/05-03-SUMMARY.md`
</output>
