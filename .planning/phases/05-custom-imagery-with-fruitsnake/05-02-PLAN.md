---
phase: 05-custom-imagery-with-fruitsnake
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/assets/images/merch/classic-tee.png
  - src/lib/assets/images/merch/pullover-hoodie.png
  - src/lib/assets/images/merch/skate-deck.png
  - src/lib/assets/images/merch/sticker-pack.png
  - src/lib/assets/images/merch/dad-hat.png
  - src/lib/assets/images/merch/tote-bag.png
  - src/lib/assets/images/merch/enamel-pin-set.png
  - src/lib/assets/images/merch/cheese-koozie.png
  - src/lib/data/products.ts
  - src/lib/components/ProductCard.svelte
autonomous: true

must_haves:
  truths:
    - "Each of the 8 merch product cards displays a custom-generated product image instead of an emoji"
    - "Images are visually consistent across all 8 merch products (same style, lighting, composition)"
    - "Product cards maintain gradient backgrounds behind/around images"
    - "Product cards gracefully fall back to emoji on gradient if image is missing"
  artifacts:
    - path: "src/lib/assets/images/merch/classic-tee.png"
      provides: "Classic Tee product image"
    - path: "src/lib/assets/images/merch/pullover-hoodie.png"
      provides: "Pullover Hoodie product image"
    - path: "src/lib/assets/images/merch/skate-deck.png"
      provides: "Skate Deck product image"
    - path: "src/lib/assets/images/merch/sticker-pack.png"
      provides: "Sticker Pack product image"
    - path: "src/lib/assets/images/merch/dad-hat.png"
      provides: "Dad Hat product image"
    - path: "src/lib/assets/images/merch/tote-bag.png"
      provides: "Tote Bag product image"
    - path: "src/lib/assets/images/merch/enamel-pin-set.png"
      provides: "Enamel Pin Set product image"
    - path: "src/lib/assets/images/merch/cheese-koozie.png"
      provides: "Cheese Koozie product image"
    - path: "src/lib/data/products.ts"
      provides: "Product type with image field and image imports"
      contains: "image"
    - path: "src/lib/components/ProductCard.svelte"
      provides: "Product card with enhanced:img display"
      contains: "enhanced:img"
  key_links:
    - from: "src/lib/data/products.ts"
      to: "src/lib/assets/images/merch/*.png"
      via: "static imports"
      pattern: "import.*from.*\\$lib/assets/images/merch"
    - from: "src/lib/components/ProductCard.svelte"
      to: "product.image"
      via: "enhanced:img src prop"
      pattern: "enhanced:img.*src=.product\\.image"
---

<objective>
Generate custom product images for all 8 merch products using fruitsnake-mcp and integrate them into the merch product card components.

Purpose: Replace emoji placeholders on merch cards with branded product mockups that show what the merchandise looks like, making the merch page feel like a real shop.
Output: 8 merch images in src/lib/assets/images/merch/, updated Product type with image field, ProductCard component displaying images via enhanced:img.
</objective>

<execution_context>
@C:\Users\Mark\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Mark\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-custom-imagery-with-fruitsnake/05-RESEARCH.md
@src/lib/data/products.ts
@src/lib/components/ProductCard.svelte
@vite.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate 8 merch product images with fruitsnake-mcp</name>
  <files>
    src/lib/assets/images/merch/classic-tee.png
    src/lib/assets/images/merch/pullover-hoodie.png
    src/lib/assets/images/merch/skate-deck.png
    src/lib/assets/images/merch/sticker-pack.png
    src/lib/assets/images/merch/dad-hat.png
    src/lib/assets/images/merch/tote-bag.png
    src/lib/assets/images/merch/enamel-pin-set.png
    src/lib/assets/images/merch/cheese-koozie.png
  </files>
  <action>
    Create directory `src/lib/assets/images/merch/`.

    Use the `mcp__fruitsnake-mcp__generate_web_asset` tool to generate each merch product image. Use purpose type `illustration` (1024x1024) for each.

    IMPORTANT: Capture the style fingerprint from the FIRST image generation and pass it to all subsequent generations to ensure visual consistency across all 8 products.

    Use a structured prompt template emphasizing the Tim's Nacho Cheese brand identity. All products should feature the brand's orange/cheese color palette and west coast skateboard culture aesthetic.

    Generate images in this order:

    1. **classic-tee**: "Product mockup of a white cotton t-shirt with a large orange nacho cheese logo on the front, flat lay on clean white background, soft even lighting, west coast skater brand aesthetic, clean product photography style, high resolution, sharp focus"

    2. **pullover-hoodie**: "Product mockup of a comfortable pullover hoodie in orange/cream colorway with small cheese logo embroidered on chest, flat lay on clean white background, soft even lighting, west coast skater brand aesthetic, cozy oversized fit visible, clean product photography style, high resolution, sharp focus"

    3. **skate-deck**: "Product mockup of a skateboard deck with custom nacho cheese themed graphic art in orange and white, standing upright at slight angle on clean white background, soft even lighting, west coast skater brand aesthetic, visible 8.25 inch deck proportions, clean product photography style, high resolution, sharp focus"

    4. **sticker-pack**: "Product mockup of a collection of 10 colorful stickers spread out on clean white background featuring cheese emojis and nacho-themed designs in orange yellow and white, flat lay arrangement, soft even lighting, west coast skater brand aesthetic, waterproof vinyl look, clean product photography style, high resolution, sharp focus"

    5. **dad-hat**: "Product mockup of an unstructured dad hat cap in cream/off-white color with small embroidered orange cheese logo on front, 3/4 view on clean white background, soft even lighting, west coast skater brand aesthetic, adjustable strap visible, clean product photography style, high resolution, sharp focus"

    6. **tote-bag**: "Product mockup of a heavy canvas tote bag in natural cream color with large orange nacho cheese brand print, flat lay on clean white background, soft even lighting, west coast skater brand aesthetic, sturdy handles visible, eco-friendly look, clean product photography style, high resolution, sharp focus"

    7. **enamel-pin-set**: "Product mockup of 5 hard enamel pins arranged on clean white background featuring cheese-themed designs including cheese wedge, nacho chip, fire emoji, and cheese drip in orange yellow and white enamel with gold metal borders, overhead view, soft even lighting, west coast skater brand aesthetic, clean product photography style, high resolution, sharp focus"

    8. **cheese-koozie**: "Product mockup of an insulated can koozie in orange color with white nacho cheese brand logo, 3/4 view on clean white background, soft even lighting, west coast skater brand aesthetic, neoprene material visible, fits standard 12oz can, clean product photography style, high resolution, sharp focus"

    Save each image to `src/lib/assets/images/merch/{product-id}.png` matching the IDs in products.ts.

    File naming MUST match product IDs exactly: classic-tee.png, pullover-hoodie.png, skate-deck.png, sticker-pack.png, dad-hat.png, tote-bag.png, enamel-pin-set.png, cheese-koozie.png.
  </action>
  <verify>All 8 PNG files exist in src/lib/assets/images/merch/ and are non-empty. Run: `ls -la src/lib/assets/images/merch/`</verify>
  <done>8 merch product images generated with consistent visual style, saved in src/lib/assets/images/merch/</done>
</task>

<task type="auto">
  <name>Task 2: Add image field to Product type and integrate images into ProductCard</name>
  <files>
    src/lib/data/products.ts
    src/lib/components/ProductCard.svelte
  </files>
  <action>
    **products.ts updates:**
    1. Add `image?: string` field to the `Product` type
    2. Add static imports for all 8 merch images at the top of the file:
       ```
       import classicTeeImg from '$lib/assets/images/merch/classic-tee.png';
       import pulloverHoodieImg from '$lib/assets/images/merch/pullover-hoodie.png';
       import skateDeckImg from '$lib/assets/images/merch/skate-deck.png';
       import stickerPackImg from '$lib/assets/images/merch/sticker-pack.png';
       import dadHatImg from '$lib/assets/images/merch/dad-hat.png';
       import toteBagImg from '$lib/assets/images/merch/tote-bag.png';
       import enamelPinSetImg from '$lib/assets/images/merch/enamel-pin-set.png';
       import cheeseKoozieImg from '$lib/assets/images/merch/cheese-koozie.png';
       ```
    3. Add `image` property to each product object in the array, referencing the imported image

    **ProductCard.svelte updates:**
    1. Currently the image area is: `<div class="bg-gradient-to-br {product.gradient} h-64 flex items-center justify-center"><div class="text-9xl">{product.emoji}</div></div>`
    2. If `product.image` exists, replace the emoji with an enhanced:img inside the gradient container:
       ```svelte
       <div class="bg-gradient-to-br {product.gradient} h-64 flex items-center justify-center">
         {#if product.image}
           <enhanced:img
             src={product.image}
             alt="{product.name} - Tim's Nacho Cheese merchandise"
             sizes="(min-width: 1024px) 25vw, (min-width: 768px) 50vw, 100vw"
             class="w-full h-full object-contain p-4"
           />
         {:else}
           <div class="text-9xl">{product.emoji}</div>
         {/if}
       </div>
       ```
    3. Use `object-contain` (not `object-cover`) with `p-4` padding so the product mockup sits nicely within the gradient background without cropping
    4. Keep the gradient background visible around/behind the product image for visual identity

    IMPORTANT: Do NOT change hover effects, cheeseStretch action, transition classes, or card layout below the image area. Only replace the emoji content inside the gradient container.
  </action>
  <verify>Run `bun run build` to verify the build succeeds with enhanced:img processing the merch images. Check build output for image optimization messages.</verify>
  <done>Product type has image field, all 8 products reference their images, ProductCard shows product images on gradient backgrounds with object-contain sizing</done>
</task>

</tasks>

<verification>
- `bun run build` completes without errors
- Build output shows image optimization (WebP/AVIF generation) for merch images
- Dev server shows merch product cards with product images on gradient backgrounds
- Product cards maintain hover scale/translate effects
- Merch page layout unchanged (grid structure preserved)
</verification>

<success_criteria>
- All 8 merch product cards display custom product images
- Images are visually consistent (same style, lighting, composition)
- Gradient backgrounds remain visible behind product images
- Build succeeds with enhanced:img optimization
- No layout shift (explicit h-64 container preserved)
</success_criteria>

<output>
After completion, create `.planning/phases/05-custom-imagery-with-fruitsnake/05-02-SUMMARY.md`
</output>
