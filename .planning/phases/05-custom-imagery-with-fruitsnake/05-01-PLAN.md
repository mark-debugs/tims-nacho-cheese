---
phase: 05-custom-imagery-with-fruitsnake
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/assets/images/flavors/white-cheese.png
  - src/lib/assets/images/flavors/orange-spice.png
  - src/lib/assets/images/flavors/mozz-pure.png
  - src/lib/assets/images/flavors/cheddar-beddar.png
  - src/lib/assets/images/flavors/mega-spice.png
  - src/lib/data/flavors.ts
  - src/lib/components/FlavorCard.svelte
  - src/lib/components/MegaSpiceCard.svelte
autonomous: true

must_haves:
  truths:
    - "Each of the 5 flavor cards displays a custom-generated product image instead of an emoji"
    - "MEGA SPICE card displays a custom image while retaining flame/shimmer hover effects"
    - "Images are visually consistent across all 5 flavors (same style, lighting, composition)"
    - "Flavor cards gracefully fall back to emoji if image is missing"
  artifacts:
    - path: "src/lib/assets/images/flavors/white-cheese.png"
      provides: "White Cheese Sauce product image"
    - path: "src/lib/assets/images/flavors/orange-spice.png"
      provides: "Orange Spice product image"
    - path: "src/lib/assets/images/flavors/mozz-pure.png"
      provides: "Mozz Pure product image"
    - path: "src/lib/assets/images/flavors/cheddar-beddar.png"
      provides: "Cheddar is Beddar product image"
    - path: "src/lib/assets/images/flavors/mega-spice.png"
      provides: "MEGA SPICE Face Melter product image"
    - path: "src/lib/data/flavors.ts"
      provides: "Flavor type with image field and image imports"
      contains: "image"
    - path: "src/lib/components/FlavorCard.svelte"
      provides: "Flavor card with enhanced:img display"
      contains: "enhanced:img"
    - path: "src/lib/components/MegaSpiceCard.svelte"
      provides: "MEGA SPICE card with enhanced:img display"
      contains: "enhanced:img"
  key_links:
    - from: "src/lib/data/flavors.ts"
      to: "src/lib/assets/images/flavors/*.png"
      via: "static imports"
      pattern: "import.*from.*\\$lib/assets/images/flavors"
    - from: "src/lib/components/FlavorCard.svelte"
      to: "flavor.image"
      via: "enhanced:img src prop"
      pattern: "enhanced:img.*src=.flavor\\.image"
---

<objective>
Generate custom product images for all 5 cheese flavors using fruitsnake-mcp and integrate them into the flavor card components.

Purpose: Replace emoji placeholders with branded, visually consistent product photography that makes visitors hungry and reinforces the west coast cheese aesthetic.
Output: 5 flavor images in src/lib/assets/images/flavors/, updated Flavor type with image field, FlavorCard and MegaSpiceCard components displaying images via enhanced:img.
</objective>

<execution_context>
@C:\Users\Mark\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Mark\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-custom-imagery-with-fruitsnake/05-RESEARCH.md
@src/lib/data/flavors.ts
@src/lib/components/FlavorCard.svelte
@src/lib/components/MegaSpiceCard.svelte
@vite.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate 5 flavor product images with fruitsnake-mcp</name>
  <files>
    src/lib/assets/images/flavors/white-cheese.png
    src/lib/assets/images/flavors/orange-spice.png
    src/lib/assets/images/flavors/mozz-pure.png
    src/lib/assets/images/flavors/cheddar-beddar.png
    src/lib/assets/images/flavors/mega-spice.png
  </files>
  <action>
    Create directory `src/lib/assets/images/flavors/`.

    Use the `mcp__fruitsnake-mcp__generate_web_asset` tool to generate each flavor image. Use purpose type `illustration` (1024x1024) for each.

    IMPORTANT: Capture the style fingerprint from the FIRST image generation and pass it to all subsequent generations to ensure visual consistency across all 5 flavors.

    Generate images in this order, using a structured prompt template for brand consistency:

    1. **white-cheese**: "Professional food photography of Tim's White Cheese Sauce, creamy white nacho cheese in a white ceramic bowl, white seamless background, soft diffused lighting from above with warm highlights, centered 3/4 view showing smooth creamy ivory texture, appetizing presentation, playful west coast brand aesthetic, photorealistic, high resolution, sharp focus"

    2. **orange-spice**: "Professional food photography of Tim's Orange Cheese with Spice nacho sauce, vibrant orange nacho cheese in a white ceramic bowl, white seamless background, soft diffused lighting from above with warm highlights, centered 3/4 view showing rich orange color and smooth texture with visible spice flecks, appetizing presentation, playful west coast brand aesthetic, photorealistic, high resolution, sharp focus"

    3. **mozz-pure**: "Professional food photography of Tim's Mozz Pure mozzarella cheese sauce, silky white mozzarella in a white ceramic bowl showing stretchy cheese pull, white seamless background, soft diffused lighting from above with warm highlights, centered 3/4 view showing glossy smooth texture, appetizing presentation, playful west coast brand aesthetic, photorealistic, high resolution, sharp focus"

    4. **cheddar-beddar**: "Professional food photography of Tim's Cheddar is Beddar sharp cheddar cheese sauce, rich golden yellow cheddar in a white ceramic bowl, white seamless background, soft diffused lighting from above with warm highlights, centered 3/4 view showing bold golden color and creamy texture, appetizing presentation, playful west coast brand aesthetic, photorealistic, high resolution, sharp focus"

    5. **mega-spice**: "Professional food photography of Tim's MEGA SPICE Face Melter nacho cheese sauce, intense orange-red cheese with visible chili pepper flecks and slight steam rising, in a white ceramic bowl, white seamless background, soft diffused lighting from above with warm highlights, centered 3/4 view showing fiery red-orange color and thick texture, dramatic appetizing presentation, playful west coast brand aesthetic, photorealistic, high resolution, sharp focus"

    Save each image to `src/lib/assets/images/flavors/{flavor-id}.png` matching the IDs in flavors.ts.

    File naming MUST match flavor IDs exactly: white-cheese.png, orange-spice.png, mozz-pure.png, cheddar-beddar.png, mega-spice.png.
  </action>
  <verify>All 5 PNG files exist in src/lib/assets/images/flavors/ and are non-empty. Run: `ls -la src/lib/assets/images/flavors/`</verify>
  <done>5 flavor product images generated with consistent visual style, saved in src/lib/assets/images/flavors/</done>
</task>

<task type="auto">
  <name>Task 2: Add image field to Flavor type and integrate images into FlavorCard and MegaSpiceCard</name>
  <files>
    src/lib/data/flavors.ts
    src/lib/components/FlavorCard.svelte
    src/lib/components/MegaSpiceCard.svelte
  </files>
  <action>
    **flavors.ts updates:**
    1. Add `image?: string` field to the `Flavor` type
    2. Add static imports for all 5 flavor images at the top of the file:
       ```
       import whiteCheeseImg from '$lib/assets/images/flavors/white-cheese.png';
       import orangeSpiceImg from '$lib/assets/images/flavors/orange-spice.png';
       import mozzPureImg from '$lib/assets/images/flavors/mozz-pure.png';
       import cheddarBeddarImg from '$lib/assets/images/flavors/cheddar-beddar.png';
       import megaSpiceImg from '$lib/assets/images/flavors/mega-spice.png';
       ```
    3. Add `image` property to each flavor object in the array, referencing the imported image

    **FlavorCard.svelte updates:**
    1. Replace the emoji `<div class="text-6xl mb-4">{flavor.emoji}</div>` with an image section
    2. Add the card structure with overflow-hidden on the outer card div (add to existing classes)
    3. If `flavor.image` exists, render:
       ```svelte
       <enhanced:img
         src={flavor.image}
         alt="{flavor.name} nacho cheese sauce"
         sizes="(min-width: 1024px) 33vw, (min-width: 768px) 50vw, 100vw"
         class="w-full h-48 object-cover"
       />
       ```
    4. If no image, fall back to the existing emoji display in a gradient container:
       ```svelte
       <div class="w-full h-48 flex items-center justify-center {colors.badgeBg}">
         <div class="text-6xl">{flavor.emoji}</div>
       </div>
       ```
    5. Move the text content (h3, badge, description, heat bar) into a `<div class="p-8">` wrapper since the image sits above
    6. Add `overflow-hidden` to the outer card div classes (needed so image rounds with the card corners)

    **MegaSpiceCard.svelte updates:**
    1. Replace the emoji `<div class="text-6xl mb-4">{flavor.emoji}</div>` with an image section
    2. If `flavor.image` exists, render:
       ```svelte
       <enhanced:img
         src={flavor.image}
         alt="MEGA SPICE Face Melter nacho cheese sauce with extreme heat"
         sizes="(min-width: 1024px) 33vw, (min-width: 768px) 50vw, 100vw"
         class="w-full h-48 object-cover"
       />
       ```
    3. If no image, fall back to emoji display
    4. Add `overflow-hidden` to the outer card div if not already present
    5. Ensure flame decorations and heat shimmer overlay still render correctly over/around the image (they use absolute positioning and z-index, so they should work without changes)
    6. Move card text content into a `<div class="p-8">` wrapper

    IMPORTANT: Do NOT change animation logic, inview actions, cheeseStretch, or transition parameters. Only change the visual content area (emoji -> image).

    IMPORTANT: The `enhanced:img` tag requires the `src` to be a statically importable path at build time. Since we're importing in flavors.ts and passing via the data object, the value will be the resolved import URL. This works with `enhanced:img` when the import is a static import in flavors.ts.
  </action>
  <verify>Run `bun run build` to verify the build succeeds with enhanced:img processing the flavor images. Check build output for image optimization messages.</verify>
  <done>Flavor type has image field, all 5 flavors reference their images, FlavorCard shows images with h-48 object-cover above card content, MegaSpiceCard shows image while preserving flame/shimmer effects</done>
</task>

</tasks>

<verification>
- `bun run build` completes without errors
- Build output shows image optimization (WebP/AVIF generation) for flavor images
- Dev server shows flavor cards with product images instead of emojis
- MegaSpiceCard flame effects still appear on hover
- Flavor cards maintain their scroll-triggered entrance animations
</verification>

<success_criteria>
- All 5 flavor cards display custom product images
- Images are visually consistent (same style, lighting, composition)
- MegaSpiceCard retains flame/shimmer hover effects with image
- Build succeeds with enhanced:img optimization
- No layout shift (explicit h-48 container height)
</success_criteria>

<output>
After completion, create `.planning/phases/05-custom-imagery-with-fruitsnake/05-01-SUMMARY.md`
</output>
