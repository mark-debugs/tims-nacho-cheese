---
phase: 04-merch-and-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/data/products.ts
  - src/lib/components/ProductCard.svelte
  - src/lib/components/ProductGrid.svelte
  - src/lib/components/SocialLinks.svelte
  - src/routes/merch/+page.svelte
  - src/lib/components/Footer.svelte
autonomous: true

must_haves:
  truths:
    - "Users see merch products across all 5 categories: apparel, skate decks, stickers, pins, accessories"
    - "Each product shows name, category, description, price, and Coming Soon badge"
    - "Social media links include Instagram, TikTok, YouTube, and Twitter/X with proper accessible labels"
    - "Social links open in new tabs with rel=noopener noreferrer"
    - "Merch page has category filtering to browse by product type"
  artifacts:
    - path: "src/lib/data/products.ts"
      provides: "Product type and merch product data array"
      exports: ["Product", "products", "categories"]
    - path: "src/lib/components/ProductCard.svelte"
      provides: "Individual merch product card display"
      min_lines: 25
    - path: "src/lib/components/ProductGrid.svelte"
      provides: "Responsive grid with category filtering"
      min_lines: 30
    - path: "src/lib/components/SocialLinks.svelte"
      provides: "Accessible social media icon links"
      min_lines: 20
    - path: "src/routes/merch/+page.svelte"
      provides: "Merch showcase page using ProductGrid"
    - path: "src/lib/components/Footer.svelte"
      provides: "Updated footer using SocialLinks component"
  key_links:
    - from: "src/routes/merch/+page.svelte"
      to: "src/lib/components/ProductGrid.svelte"
      via: "component import"
      pattern: "import ProductGrid"
    - from: "src/lib/components/ProductGrid.svelte"
      to: "src/lib/data/products.ts"
      via: "data import"
      pattern: "import.*products"
    - from: "src/lib/components/Footer.svelte"
      to: "src/lib/components/SocialLinks.svelte"
      via: "component import"
      pattern: "import SocialLinks"
---

<objective>
Componentize the merch showcase page with a typed data file and reusable product card components, covering all 5 required categories (apparel, skate decks, stickers, pins, accessories). Update the footer with a dedicated SocialLinks component that includes Instagram, TikTok, YouTube, and Twitter/X with proper accessibility.

Purpose: Satisfy MERCH-01 (merch showcase) and SOCL-01 (social media links) requirements. The existing merch page has 6 hardcoded cards but is not componentized, missing pins category, and uses emoji placeholders. The existing footer has social links but is missing TikTok and uses generic URLs.
Output: Componentized merch page with data-driven product grid and accessible social links in footer.
</objective>

<execution_context>
@C:\Users\Mark\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Mark\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-merch-and-polish/04-RESEARCH.md

@src/lib/data/flavors.ts
@src/lib/components/FlavorCard.svelte
@src/lib/components/Footer.svelte
@src/routes/merch/+page.svelte
@src/lib/actions/inview.ts
@src/lib/utils/animations.ts
@tailwind.config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create merch data file and product card components</name>
  <files>src/lib/data/products.ts, src/lib/components/ProductCard.svelte, src/lib/components/ProductGrid.svelte</files>
  <action>
Create `src/lib/data/products.ts` following the same pattern as `src/lib/data/flavors.ts`:

```typescript
export type ProductCategory = 'apparel' | 'skate-decks' | 'stickers' | 'pins' | 'accessories';

export type Product = {
  id: string;
  name: string;
  category: ProductCategory;
  description: string;
  price: number;
  emoji: string;
  gradient: string; // Tailwind gradient classes (from-X to-Y)
  comingSoon: boolean;
};

export const categories: { id: ProductCategory; label: string; emoji: string }[] = [
  { id: 'apparel', label: 'Apparel', emoji: 'ðŸ‘•' },
  { id: 'skate-decks', label: 'Skate Decks', emoji: 'ðŸ›¹' },
  { id: 'stickers', label: 'Stickers', emoji: 'âœ¨' },
  { id: 'pins', label: 'Pins', emoji: 'ðŸ“Œ' },
  { id: 'accessories', label: 'Accessories', emoji: 'ðŸŽ’' },
];
```

Add 8-10 products covering ALL 5 categories. Keep the existing 6 products (Classic Tee, Pullover Hoodie, Skate Deck, Sticker Pack, Dad Hat, Tote Bag) and add 2-3 more to fill pins and accessories: an enamel pin set and a koozie. Each product gets a `gradient` string for the colored placeholder area (matching existing gradients from the current merch page, e.g. `"from-nacho-300 to-nacho-500"`). All products have `comingSoon: true`.

Create `src/lib/components/ProductCard.svelte` using Svelte 5 runes (`$props`):
- Accept a `product: Product` prop
- Show gradient placeholder area (h-64) with large emoji centered
- Below: product name (font-display text-2xl bold), Coming Soon badge (nacho-500 bg, white text, rounded-full), description, and price
- Use `motion-safe:hover:scale-[1.02] motion-safe:hover:-translate-y-1` for hover effect with `motion-reduce:transition-none`
- Use the `cheeseStretch` action from `$lib/actions/cheese-stretch` for playful interaction
- Match the visual style of the existing hardcoded cards on the merch page (rounded-2xl, shadow-lg, bg-white)

Create `src/lib/components/ProductGrid.svelte` using Svelte 5 runes:
- Import products and categories from `$lib/data/products`
- Render category filter buttons at the top: "All" plus each category
- Track `activeCategory` state (default "all")
- Filter products by selected category
- Render filtered products in a responsive grid: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8`
- Use `inview` action and `bouncySpring` for scroll-triggered entrance animations on cards (same pattern as homepage feature cards)
- Category buttons styled like the blog category filter (if/else active state with nacho-500 bg when active, gray border when inactive)
  </action>
  <verify>
Run `bunx svelte-check --tsconfig ./tsconfig.json` from project root -- no errors in products.ts, ProductCard.svelte, or ProductGrid.svelte.
  </verify>
  <done>
Products data file exports Product type, categories array, and 8-10 products across all 5 categories. ProductCard renders a single product. ProductGrid renders filterable grid of products with category buttons and scroll animations.
  </done>
</task>

<task type="auto">
  <name>Task 2: Wire merch page and update footer social links</name>
  <files>src/routes/merch/+page.svelte, src/lib/components/SocialLinks.svelte, src/lib/components/Footer.svelte</files>
  <action>
Create `src/lib/components/SocialLinks.svelte` using Svelte 5 runes:
- Define social links data inline (not a separate data file -- it's small):
  - Instagram: https://instagram.com/timsnacho (placeholder URL), Instagram SVG icon
  - TikTok: https://tiktok.com/@timsnacho (placeholder URL), TikTok SVG icon (simple path: the musical note shape)
  - YouTube: https://youtube.com/@timsnacho (placeholder URL), YouTube SVG icon
  - Twitter/X: https://x.com/timsnacho (placeholder URL), X/Twitter SVG icon
- Wrap in `<nav aria-label="Social media links">` with `class="flex gap-4"`
- Each link: `target="_blank" rel="noopener noreferrer"`
- Each SVG: `aria-hidden="true" class="w-6 h-6" fill="currentColor"`
- Each link has `<span class="sr-only">{name}</span>` for screen readers
- Hover: `hover:text-nacho-600 transition-colors motion-reduce:transition-none`
- Copy the existing SVG paths from Footer.svelte for Instagram, Twitter, YouTube. For TikTok, use standard TikTok SVG path: `M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z`
- Comment above each social URL: `<!-- TODO: Replace with real account URL -->`

Update `src/lib/components/Footer.svelte`:
- Import and use SocialLinks component instead of hardcoded SVG links
- Keep the existing layout structure (flex col/row, brand text left, social right)
- Replace the `<div class="flex gap-6">` containing inline SVGs with `<SocialLinks />`

Rewrite `src/routes/merch/+page.svelte`:
- Import ProductGrid component
- Keep the header section (h1 "Merch" + subtitle "Rep the brand. Wear the vibes. Stay cheesy.")
- Replace the hardcoded product grid with `<ProductGrid />`
- Keep the "Merch Drops Coming Soon" gradient banner with notify-me email form
- Keep the "Our Merch Philosophy" section (Sustainable, Local Artists, Quality First)
- Add scroll-triggered entrance animations for the header, banner, and philosophy sections using `inview` action + `bouncySpring` (same pattern as homepage)
  </action>
  <verify>
Run `bunx svelte-check --tsconfig ./tsconfig.json` from project root -- no errors. Run `bun run build` -- build succeeds with no errors.
  </verify>
  <done>
Merch page uses ProductGrid component with category filtering. Footer uses SocialLinks component with Instagram, TikTok, YouTube, and X links. All social links have proper aria-labels and sr-only text. Page builds successfully.
  </done>
</task>

</tasks>

<verification>
1. `bun run build` succeeds with no errors
2. `bunx svelte-check --tsconfig ./tsconfig.json` passes with no type errors
3. Merch page renders products from data file (not hardcoded HTML)
4. Category filter buttons work (clicking "Stickers" shows only sticker products)
5. Footer shows 4 social icons (Instagram, TikTok, YouTube, X) with accessible labels
6. All hover animations use motion-safe/motion-reduce modifiers
</verification>

<success_criteria>
- Products data file contains 8-10 products across all 5 required categories
- ProductCard and ProductGrid components are reusable with Svelte 5 runes
- Merch page shows all products with category filtering
- Footer SocialLinks component renders 4 social platforms with proper accessibility
- Build completes successfully
</success_criteria>

<output>
After completion, create `.planning/phases/04-merch-and-polish/04-01-SUMMARY.md`
</output>
